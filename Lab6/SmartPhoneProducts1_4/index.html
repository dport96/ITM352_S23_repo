<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Smart Phone Store</title>

    <link href="https://fonts.googleapis.com/css?family=Cherry+Swash|Raleway" rel="stylesheet">

    <link id='xxx' href="products-style.css" rel="stylesheet">

    <style id='localStyle'></style>
    <script>
        const store_name = "Daniel Noah Zaphod Port";
        var hits = 0;
        var spins = 0;
        var over_half = false;
    </script>
</head>

<body>

    <header>
        <h1><span id="s_name"></span>'s Used Smart Phone Store</h1>
        <p style="text-align: center; font-weight: bold;">
            Hits:<span id="hits_span">0</span>
            Spins:<span id="spins_span">0</span>
            You win:<span id="win_span">pending...</span>
        </p>
        <p>Hit/Spin:<span id="hit_spin_span">0</span></p>
        <script>
            s_name.innerHTML = store_name;
        </script>
        </script>
    </header>
    <div>
        <aside>
            <div style="font-size:4rem;text-align:center;font-weight: bold;font-style: italic; color: white">
                We sell from
                around the globe!
            </div>
            <div>
                <input id="speedSlider" type="range" min=".1" max="5" step=".1" onchange="
            localStyle.innerHTML = '.rotate img {animation-duration: ' + speedSlider.value + 's;}';
            " style="direction: rtl;" />
            </div>
        </aside>

        <main>
            <section class="item" onmouseover="
                
                if(this.className == 'item') {
                    this.className='item rotate';
                    spins++;
                    spins_span.innerHTML = spins;
                   
                    over_half = over_half || (spins < 2*hits) && (hits < spins);
                    // -- Winning progress depends on hits/spins
                    hits_spins_ratio = hits/spins;
                    hit_spin_span.innerHTML = hits_spins_ratio.toFixed(2);
                    if ( hits_spins_ratio > 0 && hits_spins_ratio < 0.25 ) {
                        progress = 'On your way!';
                    }
                    else if ( hits_spins_ratio >= 0.25 && hits_spins_ratio < 0.5) {
                            progress = 'Almost there!';
                    }
                    else if ( hits_spins_ratio >= 0.5 && hits < spins) {
                            progress = 'You win!';
                    }
                    else {
                        progress = 'Get going!' ;
                    }
                    win_span.innerHTML = progress;
                }
                " onclick="
                this.className='item';
                hits++;
                hits_span.innerHTML = hits;
                over_half ||= (spins < 2*hits) && (hits < spins);
                // -- Winning progress depends on hits/spins
                    hits_spins_ratio = hits/spins;
                    hit_spin_span.innerHTML = hits_spins_ratio.toFixed(2);
                    if ( hits_spins_ratio > 0 && hits_spins_ratio < 0.25 ) {
                        progress = 'On your way!';
                    }
                    else if ( hits_spins_ratio >= 0.25 && hits_spins_ratio < 0.5) {
                            progress = 'Almost there!';
                    }
                    else if ( hits_spins_ratio >= 0.5 && hits < spins) {
                            progress = 'You win!';
                    }
                    else {
                        progress = 'Get going!' ;
                    }
                    win_span.innerHTML = progress;
                ">
                <h2>HTC</h2>
                <p>$40.00</p>
                <img id="HTC_img" src="http://dport96.github.io/ITM352/morea/080.flow-control-II/HTC.jpg">
            </section>

            <section class="item" onmouseover="this.className='item rotate';" onclick="this.className='item';">
                <h2>Apple</h2>
                <p>$75.00</p>
                <img src="http://dport96.github.io/ITM352/morea/080.flow-control-II/iphone-3gs.jpg">
            </section>

            <section class="item" onmouseover="this.className='item rotate';" onclick="this.className='item';">
                <h2>Nokia</h2>
                <p>$35.00</p>
                <img src="http://dport96.github.io/ITM352/morea/080.flow-control-II/Nokia.jpg">
            </section>

            <section class="item" onmouseover="this.className='item rotate';" onclick="this.className='item';">
                <h2>Samsung</h2>
                <p>$45.00</p>
                <img src="http://dport96.github.io/ITM352/morea/080.flow-control-II/Samsung.jpg">
            </section>

            <section class="item" onmouseover="this.className='item rotate';" onclick="this.className='item';">
                <h2>Blackberry</td>
                </h2>
                <p>$10.00</p>
                <img src="http://dport96.github.io/ITM352/morea/080.flow-control-II/Blackberry.jpg">
            </section>

        </main>
    </div>
    <footer>
        <h1>
            Your One Stop For Used Phones
        </h1>
    </footer>
</body>

</html>